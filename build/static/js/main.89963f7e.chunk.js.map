{"version":3,"sources":["components/Tab.jsx","components/Tabs.jsx","api/api.js","js/helpers.js","components/PumpsStatus.jsx","components/Notifications.jsx","js/useKey.js","components/Home.jsx","assets/logo.png","components/ConfigNavigation.jsx","components/PumpsConfig.jsx","components/RecipeConfig.jsx","components/ToleranceConfig.jsx","components/WirelessConfig.jsx","components/SystemConfig.jsx","components/Config.jsx","components/CardManual.jsx","components/CalibrateNavigation.jsx","components/Calibrate.jsx","js/model.js","components/Wifi.jsx","components/App.jsx","index.js"],"names":["Tab","name","icon","active","useLocation","pathname","includes","toLowerCase","className","to","socket","io","connect","Tabs","useStoreState","state","pumpsState","setPumpsState","useStoreActions","actions","setPumpMessage","pumpsInitialState","useEffect","on","msg","pump","objMsg","JSON","parse","id","console","log","off","faHome","faTools","faStopwatch","host","startControlledPump","a","pulses","timeout","url","axios","post","response","data","startPump","stopPump","updateNetwork","ssid","pass","devicePowerOff","deviceRestart","getTimestamp","Date","now","toFixed","capitalize","text","replace","c","toUpperCase","setSavedStorage","key","obj","window","localStorage","setItem","stringify","percent","part","total","sum","arr","reduce","b","PumpsStatus","pumps","useState","working","setWorking","map","p","pulses_count","class","max","value","Notifications","pumpMessage","notifications","setNotifications","notification","index","style","top","onClick","filter","t","useKey","callback","callbackRef","useRef","current","handle","event","code","document","addEventListener","removeEventListener","Home","recipes","calibrations","selectedRecipe","setSelectedRecipe","startRecipe","recipe","newPumps","forEach","config","stopRecipe","filling","src","faVial","spin","faHandPaper","ConfigNavigation","options","mode","useParams","selection","setSelection","option","PumpsConfig","setPumps","type","onChange","e","target","RecipeConfig","setRecipes","ToleranceConfig","timeTolerance","setTimeTolerance","WirelessConfig","wifipass","wifissid","setWifipass","setWifissid","focused","setFocused","onFocus","onBlur","layoutName","SystemConfig","faPowerOff","faRedo","Config","path","component","CardManual","setCalibrations","seconds","setSeconds","running","setRunning","start","setStart","end","setEnd","pulsesPerUnit","setPulsesPerUnit","fillTimeout","setFillTimeout","timer","setInterval","clearInterval","elapsed","newCalibrations","then","CalibrateNavigation","Calibrate","initial","total_pulses","time_count","getSavedStorage","getItem","action","message","Wifi","connected","setConnected","navigator","onLine","faWifi","store","createStore","model","App","exact","from","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.89963f7e.chunk.js","sourcesContent":["import { useLocation } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nconst Tab = ({ name, icon }) => {\n  const location = useLocation();\n  const active = location.pathname.includes(name.toLowerCase())\n\n  return (\n    <li className={ active ? \"is-active\" : \"\"}>\n      <Link to={`/${name.toLowerCase()}`} >\n        <span className=\"icon is-small\">\n          <FontAwesomeIcon icon={icon} />\n        </span>\n        <span>{name}</span>\n      </Link>\n    </li>\n  )\n}\n\nexport default Tab;\n","import { useEffect } from 'react';\n\nimport { \n  faHome,\n  faStopwatch,\n  faTools,\n} from '@fortawesome/free-solid-svg-icons';\nimport { useStoreActions, useStoreState } from 'easy-peasy';\nimport Tab from './Tab';\nimport io from \"socket.io-client\";\n\nconst socket = io.connect('http://localhost:9999');\n\n\nconst Tabs = () => {\n  const pumpsState = useStoreState(state => state.pumpsState)\n  const setPumpsState = useStoreActions(actions => actions.setPumpsState)\n  const setPumpMessage = useStoreActions(actions => actions.setPumpMessage)\n  const pumpsInitialState = [{},{},{},{}]\n  \n  useEffect(() => {\n    const updatePumps = pump => {\n      pumpsInitialState[pump.id] =  {...pumpsInitialState[pump.id], ...pump}\n      setPumpsState([...pumpsInitialState])\n    }\n    \n    socket.on('message', msg => {\n      let objMsg = JSON.parse(msg)\n      updatePumps(objMsg); console.log(objMsg); setPumpMessage(objMsg)\n    })\n\n    return () => {\n      socket.off('message');\n    };\n  }, []);\n\n  return (\n    <div className=\"tabs is-centered is-small\">\n      <ul>\n        <Tab name=\"Home\" icon={faHome} />\n        <Tab name=\"Config\" icon={faTools} />\n        <Tab name=\"Calibrate\" icon={faStopwatch} />\n      </ul>\n    </div>\n  )\n}\n\nexport default Tabs;\n","import axios from 'axios';\n\nconst host='localhost'\n\nexport const startControlledPump = async (pump) => {\n  console.log('... starting controlled pump');\n  const {id, pulses, timeout} = pump\n  const url = `http://${host}:9999/api/startcontrolled`;\n  const response = await axios.post(url, {id, pulses, timeout})\n  return response.data\n}\n\nexport const startPump = async (pump) => {\n  console.log('... starting pump');\n  const {id} = pump\n  const url = `http://${host}:9999/api/start/${id}`;\n  const response = await axios.post(url)\n  return response.data\n}\n\nexport const stopPump = async (pump) => {\n  console.log('... stop pump');\n  const {id} = pump\n  const url = `http://${host}:9999/api/stop/${id}`;\n  const response = await axios.post(url)\n  return response.data\n}\n\nexport const infoPump = async (id) => {\n  console.log('... getting events');\n  const url = `http://${host}:9999/api/info/${id}`;\n  const response = await axios.get(url)\n  return response.data\n}\n\nexport const updateNetwork = async (ssid, pass) => {\n  console.log('... configure wifi');\n  const url = `http://${host}:9999/api/network`;\n  const response = await axios.post(url,{ssid, pass})\n  return response.data\n}\n\nexport const devicePowerOff = async () => {\n  console.log('... shutting down');\n  const url = `http://${host}:9999/api/poweroff`;\n  const response = await axios.post(url)\n  return response.data\n}\n\nexport const deviceRestart = async () => {\n  console.log('... restarting');\n  const url = `http://${host}:9999/api/restart`;\n  const response = await axios.post(url)\n  return response.data\n}","export const getTimestamp = () => {\n  return (Date.now()/1000).toFixed(1)\n}\n\nexport const capitalize = text => {\n  return text.replace(/^\\w/, (c) => c.toUpperCase());\n}\n\nexport const setSavedStorage = (key, obj) => {\n  window.localStorage.setItem(key, JSON.stringify(obj))\n}\n\nexport const percent = (part,total) => {\n  return (100*(part/total)).toFixed()\n}\n\nexport const sum = arr => {\n  return arr.reduce((a,b) => a + b)\n}\n\nexport const progress = arr => {\n  return percent(\n    sum(arr.map(p => p.pulses_count)),\n    sum(arr.map(p => p.pulses))\n  )\n}","import { useStoreState } from \"easy-peasy\"\nimport { useEffect, useState } from \"react\"\nimport { percent, progress } from \"../js/helpers\"\n\n\nconst PumpsStatus = () => {\n  const pumps = useStoreState(state => state.pumps)\n  const pumpsState = useStoreState(state => state.pumpsState)\n  const [working, setWorking] = useState(false) \n  \n  useEffect(()=> {\n    setWorking(pumpsState.map(p => p.on).reduce((a,b)=>a||b))\n  }, [pumpsState])\n\n  return (\n    <div className=\"columns\">\n      <div className=\"column\"></div>\n        <div className=\"column is-half\">\n          <div className=\"columns\">\n            {pumps.map(pump => (\n              <div className=\"column\">\n                <h4 className={`heading has-text-centered ${pumpsState[pump.id].on ? 'has-text-danger': 'has-text-link'}`}>\n                  {pump.name}\n                </h4>\n                {pumpsState[pump.id].timeout != 0 ?\n                  <p className='has-text-centered'>\n                    {percent(pumpsState[pump.id].pulses_count,pumpsState[pump.id].pulses)} %\n                  </p> :\n                  <p className='has-text-centered'>- -</p>\n                }\n              </div>\n            ))}\n          </div>\n          <div className=\"div\">\n            <progress class={`progress is-small ${working ? 'is-success': 'is-dark'}`} max=\"100\" value={progress(pumpsState)}>\n              %\n            </progress>\n          </div>\n        </div>\n      <div className=\"column\"></div>\n    </div>\n  )\n}\n\nexport default PumpsStatus","import { useStoreState } from \"easy-peasy\"\nimport { useEffect, useState } from \"react\"\n\nconst Notifications = () => {\n  const {id, on, pulses, pulses_count} = useStoreState(state => state.pumpMessage)\n  const pumps = useStoreState(state => state.pumps)\n  const [notifications, setNotifications] = useState([])\n  useEffect(() => {\n    console.log('...on changed')\n    if (!on) {\n      if (pulses > pulses_count) {\n        setNotifications(\n          [...notifications, `Check ${pumps[id].name} pump`]\n        )\n      }\n    }\n  }, [on, id])\n\n  return (\n    <>\n      {notifications.map((notification, index) => \n        <div class=\"notification is-warning\" style={{top: `${-6 + index*5}em`}}>\n          <button\n            class=\"delete is-large\"\n            onClick={() => setNotifications(notifications.filter(t => t != notification))}/>\n          <p className=\"pl-1 pr-1\">{notification}</p>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Notifications","import { useEffect, useRef } from 'react';\n\nconst useKey = (key, callback) => {\n  const callbackRef = useRef(callback);\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  })\n\n  useEffect(() => {\n    const handle = event => {\n      if (event.code === key){\n        callbackRef.current(event);\n      }\n    }\n    document.addEventListener(\"keypress\", handle);\n    return () => document.removeEventListener(\"keypress\", handle)\n  }, [key]);\n}\n\nexport default useKey; ","import { useStoreActions, useStoreState } from 'easy-peasy';\nimport { startControlledPump,  stopPump } from '../api/api';\nimport { useLocalStorage } from '../js/useLocalStorage';\nimport { faVial, faHandPaper } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport logo from '../assets/logo.png'\nimport PumpsStatus from './PumpsStatus';\nimport { useEffect, useState } from 'react';\nimport Notifications from './Notifications';\nimport useKey from '../js/useKey';\n\nconst Home = () => {\n  const pumpsState = useStoreState(state => state.pumpsState)\n  const setPumpsState = useStoreActions(actions => actions.setPumpsState)\n  const recipes = useStoreState(state => state.recipes)\n  const calibrations = useStoreState(state => state.calibrations)\n  const [working, setWorking] = useState(false)\n  const [selectedRecipe, setSelectedRecipe] = useState('')\n\n  const startRecipe = recipe => {\n    // Update pumps time and pulses (calculating values)\n    const newPumps = [...pumpsState]\n    setSelectedRecipe(recipe.name)\n    newPumps.forEach((pump, index) => {\n      pump.timeout = calibrations[recipe.id].config[index].timeout\n      pump.pulses = calibrations[recipe.id].config[index].pulses\n    })\n    setPumpsState(newPumps)\n    newPumps.forEach(pump => {\n      startControlledPump(pump)\n    });\n  }\n\n  const stopRecipe = () => {\n    pumpsState.forEach(pump => {\n      stopPump(pump)\n    });\n  }\n\n  useEffect(() => {\n    const filling = pumpsState.map(p => p.on).reduce((a,b) => a || b)\n    if (working == true && filling == false) setSelectedRecipe(false)\n    setWorking(filling)\n  },[pumpsState])\n\n\n  useKey(\"KeyA\", () => startRecipe(recipes[0]))\n  useKey(\"KeyS\", () => startRecipe(recipes[1]))\n  useKey(\"KeyD\", () => startRecipe(recipes[2]))\n  useKey(\"KeyF\", stopRecipe)\n\n  return (\n    <>\n      <div className=\"is-flex is-flex-centered\">\n        <img src={logo} className='m-4 logo'/>\n      </div>\n      <div className=\"container \">\n        <PumpsStatus />\n        <Notifications />\n        <div className=\"columns\">\n          {recipes.map(recipe => (\n            <div className=\"column is-flex is-flex-centered\">\n              <div className=\"card is-flex-direction-column is-flex-centered home-card\">\n                <a onClick={() => startRecipe(recipe)}>\n                  <p className={`${selectedRecipe == recipe.name ? 'has-text-success' : 'has-text-grey'} title is-4 m-2 has-text-centered`}>{recipe.name}</p>\n                  <div className=\"title is-1 has-text-centered m-2 has-text-success\">\n                    <FontAwesomeIcon \n                      icon={faVial}\n                      className={`${selectedRecipe == recipe.name ? 'has-text-success' : 'has-text-grey'}`}\n                      spin={selectedRecipe == recipe.name}/>\n                  </div>\n                </a>\n              </div>\n            </div>\n          ))}\n          <div className=\"column is-one-quarter is-flex is-flex-centered\">\n            <div className=\"card is-flex-direction-column is-flex-centered\">\n              <a onClick={stopRecipe}>\n                <p className={`${working ? 'has-text-danger': 'has-text-grey'} title is-4 m-4 has-text-centered`}>Stop</p>\n                <div className={`${working ? 'has-text-danger': 'has-text-grey'} title is-1 has-text-centered m-4`}>\n                  <FontAwesomeIcon icon={faHandPaper} />\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n};\n\nexport default Home;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN0AAAA0CAMAAAA5Uc1iAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUxpccrKy0h8vHN3rEZ8vs3Nzkd8vqipq6epq6asrKerrEd8vqeorUd8v6eqrCovhaeqrEd8vqeprUd7vkV3uEd+vUd9vkd8v0V2uoiatqOkq0Z7vXNxrqeprEd7vkZ7vfmhQ0d8vkR4vEmCw2tmp0d9v/V7IEd8vqepraSosKeprEd8vkd9vkd9vy80iPWbdqaoq0d8vkd8vqaqrqepq6eprImLjUZ9vqeprPu5IvagcKiprEd9v6Ojskd8vvmxdDNWoKeprPd6HfaKJf/+/Ed7vkd9v6eprER4u5KTlrq7vzVRmzpkqkh9wI6NoDxorp+jov/xOP307PWTRKeprDpDkby9v6Wrrv3JIMnKzP7KFPrJs/mrLn57nXyAtvd5G3h4sv3RGq+ytPafOEJOjfV7IP7KDPV7H1RhmOfp8vu8HkdGkyksg/y3NWRho/V7IPh1GV9qpT9tsk9NlfV6IPadMv28HWJgoqmu0EdgqPq9iPipXHp4bIeDdWxwi+TOYPrEn251j31+gdORX//xOP7ZHFtYnYmGuXp9s/vClPu+iMrKz////buxg3R1d/WTPVx+tvj385ObrPHx8ejt/+/v79PKobqfjJiyxpazyMuUa5ianU52uNqogExcokd8vqeprMnKzCsuhPV7IEFytUJ1uP3HDScrgkN4ujhfp0V6vTVRnEZ9v0Z/wEeBwl5anv3PEzNKl/aZOf3BFlFOl0A/jTMzhz9tsj5rr/mpMfmwLMXGyPemcjVXoG5tqi4+jvWZbmNgomtmpTtnrf7LDTpkq76/wTdbo4+Rk1hUmpWXmrm6vf3VGamssfvIo8HDx//oMP/bHq+xtJudoLS1uKSmqCg4jfzQs/mtdPehN/q9l/m2iUtJlEZGj6GipPOGLvq1KPekNjBEkt7e3/3XvywziPu8Hf/jJyZGmoCJuf7gyv90DDo5i/iqf//bBCJUpf7l0//27fvs4HaCof/VAqWvzv/nEs/R15myxtTPxMnR9K2fkta2PaGVZ+fhs/fpdYSQmr8AAACfdFJOUwCPPQRpJ4GQgCIo7S7CveKs+Oy8HBRCUyUJEeT+90twDZ8s2zTRj9yga0rLXY23J4szfVM/3vhGtv79YLA2mJ3idWwj/na3yqqRKLa2NynkF9so/tbdjxwr8mQo132YN/mpj2dH4dap/v2io/I9pvTF/cZ1W6uF5IFanv453cX9nv75/LvXxFC2sXpgd/6lmv2Z/mubyv6Xv+JY8N6X4+35IGEAAAlUSURBVGje3Zp5XFTHHcCn7LrcyMJyLMdytBSWIwUWhARIRQ5p1ZQGiJRq1GiMR2JjjuZujt73ff6zi9ra1LYoNcQWJcUkFDSglSsRhTbYBrAG0WiuXnO992bmzVvo1o8f5fvJ55N9Mzuz7zvzm9/MewLAFWX1IswtYF7yMajW3d09X+26EUfmr90RiN4uNdoPk2czqCBECbV52VX5STGxuu5sjqT8quw8sTTaL1rpwQR7W3Gl7ZDbkX69XZpbIT2fE8xys0RzjczptDi0iB+RGivtK4krz0FF9HMUqgcf4im7JTZOf9MfYfg05laM1K6/vz9IV8FKWNl7CuXs/NiZYKtymCGpYsqz2Hm1oJIUzS4Y3L2bZcfu3W3P3bBtNT/4yX+knDs3cvJk3/DwmanzF2ZmKr+ht4Nq/aOjejteIkWriOQqmDmKiudqYrgZYobKJti5s0lzq94O0rajra3t9Jfuj9Pb3cTaXaisXCCxGx0dHRyU29VYLJYcMokWzi4lScEmxHKwJcaRVIrmTi3Pxh2Umh0xOTg+002CnTtVs1u4Q6Ct7R/PIVpWq82SbyIcPDcycrKvb/gMsqusfEofwrnIbdAjtyNJIMaq3oFilydZwVgii+SIGHeWNqVYwMHEbr5olz6b3elT+0+dfujLqt1BAp46bDdTOVxXIbFDbp5euR0NrlQ89qydQ2KHEkq8chFrV8vz3WyDdLy6BDt3zex2+3v296ymdlTuVWo3PDUzdXDnvZJ78vdAt17vduQmorzb5fFrjbeOVK+iOVfFzm2eg11LS882YvcqBQdm3/D58yNjO8fWy+ygWu+JE97tbGz+QHbpaYQsbbszo4Rh0v9AlJsfjXh2ESO7nJtJ4M/BrnP/7aiV/aOURx996qt9Z6b66naO1dUlS+zugGqQj3u1swermU3ImTYuANOAwZym8in3ZtauClhJtHJ2dy+kcHaHTz0sdP+1qeHHxqBb3bdlu/kdUG1gYMC7nWmOdllzsKsW7VKAnxuXBbN2Nyg/bdtwf4Nmd7iljO++b6R1rBVRIbUbQBz1bsdFF7ILjqdokZnEpQuNWOFEk8buFsSOLL/8NJkdZkODate5luv9nseIW+sqYGB3FOLdLpudpkhcYSJo3y9yy3cKPO812nnGzYSBYkeODlZDOwC2KnYdnU62/MHW1tfwf+uldrcht6NdXu1MKBOEsgunSN+R3cp+CWjeKVxooo3eahft8MJ2e7EDW3uo3eEEZkiTX1MARnZdELkdObLbsrjgilQreCxubUVFpafzoRkcq/8SY0eWnjc70NDSg+0SOh7RCtf/lfKggR1y6zomt7MUORzZ5PhUyiU9S7SCllai8PciY2JjV1TBqahWa3DGt1r8YmNjcEayRunt6EHbi52Nzl1CwjatcNXvKY2GdscgC2Y5RaeZDE7R2qlKGX99Df/MxE68Zke6hXZ/I+jswNZOIteRoB6oKxS5VQbPd7cht/b2WexS7EbPCFVME4eVfQLSmpiqmfLgIiC1w0sP2g0R9HZ+cOo6oF1CwteVos/+gbLe0K4dobdjHmciHeLJSsPCZf9S9YmXP5OZ1d5SuCdhFLTV9PMK/PS68AWC3g481Ink1k4mfE4NTMUu2cDuA1iuWW8XY6YUCa8eHGaWVOG1hLkmK6s6X5dT7Q5LZFZoSrbwSiIP9qCmqyKzORs0GNt9pQXaTU5uHzpdSze7v1C2AGO7ZsiCa+U9T8PrhGX6qts7O+DE7Rka2kSfFbbcSGk0tGtuvrbs9hFkdh1r1256fWjfxKYnyGZ3498Jq8D1YrfYi13C9j0vwKqJTYseR9dNv6M0XT92ewgyuz0T+1DVxPbub6HrdYpd8nywWzZBqiYuvv8M2ux+QdkCrh+7Q4RlxlUTF0ef2QA3O8Wu0Te7styl9fVhAQV8qdOfJZCvXPNhlQe00hKuSYhWkQkvXcqmkevvHwAW/4mwXHc3G2jNoUPfG1wEt7yNVG4j8Mkuw0Opd7HFhR6WTL7Nkp0qS7TSpVyTEv6tjocOUC36DBY/S9DbLac10wcGBrufBo0vUbsmn+wymBsqZ8rDuFstMLK7kykN55owYxWArgupXaLHEwE+YWSX+qxiN/nu4JGnH2+idl5yihe7TPTDiWH1+IZC5mpHIvMz/NTNYucJZ+1eJujslIqXpy+929t/8YmNLxHWAV/s0NQVwyNPUHkEG0vEzhmkYJf0mYzsTIJdrtokTrTzOBm7Fwmi3XJafmD6O+PtJ0Yv/ustanePT3Zh6qJa6dRVFEh6cqoZ4i4odxcQ7Epkv07tcGxQuwME3s52Hy0+8OL0sQvtRz2T/3xrL2Yj8MmuGP5oWK2khZEdzhD4gQdN3Zr/yS7CpNo9T6hhX4kmPa8yPTkz3tzV27+X2jX5ZodvNjHDFSizKw+hMPFXq6TQB4ScQiNTaWIX7Orp0qN2uwj3pcZiUqPNNbsYFj9cOf72sUvfpHJ7gW92QUoSWOqM09mprBRXKvz/vUJOEbJKkGDndJGsHIft4n9O2SUnFUC75ktPvvkKZp2PdsCVqNxPRMmc7MrQZJtABdoPkudul0t6DAQezk7OIwB8d/P4212vULtGX+1AoH+iJInzdlzc1uP0t0TMKYJdiGCXAewRaNeLK8R2v/SGGba5dfP4ez9688+YLwKf7QCIc/mTk0mEYBceQOGCthzW/AQH5hq9XbHSpFZnBwrwCiB2vzImmDzG/3D8vSepXdP/Y4fjLVzYtMOE8WcGA871T392VswpxM5llDMz6LiQUYx3u39tQCl9U/j9zePHL7+BSfbZLqSACbgS3s4l7wxavPP5s2JOIXbl3uzw/kPsfmNAtfr3B/bN/778xnHEOuCrnT3RE2BXj82ZvF2ZvLMQT69n7KyYU+Ywd8AUQe1+KyUth/3bih/85zKWO97oq91KdK4vzC1xOdGHRDtvV5yrPM7w+3rhO++f1eUUYhemNsmU2MGBIXbVH+RJCy3NMQsv9hd8kvAF4KtdAXfwDTA8RQdwrcpxYK6R2WlkyOyAU8xeVwLDyCxjLMLZCv5hjV9O9l4YmHdKT3Ua/lpFLtM5+lLi1bKD23kx2e8KncZnFTFZ/FiSU8S5y5XOHc5eEVfPDqb4skxXppj9awNZxL/iqqiQ/BOvYZM4eKnufyZ4cTXtrnvmud2nMNeK3X8B/AJZiu3BTEsAAAAASUVORK5CYII=\"","import { useEffect, useState } from \"react\"\nimport { Link, useParams } from \"react-router-dom\"\nimport { capitalize } from \"../js/helpers\"\n\nconst ConfigNavigation = () => {\n  \n  const options = [\n    'recipes', 'pumps', 'tolerance', 'wireless', 'remote', 'user', 'system'\n  ]\n  const { mode } = useParams()\n  const [selection, setSelection] = useState(mode ? mode : options[0])\n\n  return (\n    <div className=\"menu column is-one-fifth\">\n      <p className=\"menu-label has-text-link\">\n        <a>Config</a>\n      </p>\n      <ul className=\"menu-list\">\n        {options.map(option => (\n          <li>\n            <Link \n              className={option==selection && 'is-active'} \n              onClick={() => setSelection(option)}\n              to={`/config/${option}`}>\n                {capitalize(option)}\n            </Link>\n          </li>  \n        ))}\n\n      </ul>\n    </div>\n  )\n}\n\nexport default ConfigNavigation","import { useStoreActions, useStoreState } from \"easy-peasy\"\nimport { setSavedStorage } from \"../js/helpers\"\n\nconst PumpsConfig = () => {\n  const pumps = useStoreState(state => state.pumps)\n  const setPumps = useStoreActions(actions => actions.setPumps)\n\n  const handleNameChange = (id, name) => {\n    setPumps(pumps.map(pump => pump.id == id ? {...pump, name} : pump))\n  }\n\n  return (\n    <div className=\"card\">\n      <header className=\"card-header p-2\">\n        <h1>Set pumps's liquits</h1>\n      </header>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"columns\">\n            {pumps.map(pump => (\n              <div className=\"column\">\n                <p className=\"subtitle is-4 has-text-centered m-4\">Pumps {pump.id + 1}</p>\n                <input value={pump.name} type=\"text\"\n                  onChange={e => handleNameChange(pump.id, e.target.value)}\n                  className=\"input no-frame-input title is-3 has-text-centered\" />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      <div className=\"card-footer\">\n        <button\n          onClick={() => setSavedStorage('pumps', pumps)}\n          className=\"button card-footer-item\">\n            Save\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default PumpsConfig;","import { useStoreActions, useStoreState } from \"easy-peasy\";\nimport { setSavedStorage } from \"../js/helpers\";\n\nconst RecipeConfig = () => {\n  const recipes = useStoreState(state => state.recipes)\n  const setRecipes = useStoreActions(actions => actions.setRecipes)\n\n  const handleNameChange = (id, name) => {\n    setRecipes(recipes.map(recipe => recipe.id == id ? {...recipe, name} : recipe))\n  }\n\n  return (\n    <div className=\"card\">\n      <header className=\"card-header p-2\">\n        <h1>Set recipes's friendly names</h1>\n      </header>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"columns\">\n            {recipes.map(recipe => (\n              <div className=\"column\">\n                <p className=\"subtitle is-4 has-text-centered m-4\">Recipe {recipe.id + 1}</p>\n                <input value={recipe.name} type=\"text\"\n                  onChange={e => handleNameChange(recipe.id, e.target.value)}\n                  className=\"input no-frame-input title is-3 has-text-centered\" />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      <div className=\"card-footer\">\n        <button\n          onClick={() => setSavedStorage('recipes',recipes)}\n          className=\"button card-footer-item\">\n            Save\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default RecipeConfig;","import { useStoreActions, useStoreState } from \"easy-peasy\";\nimport { setSavedStorage } from \"../js/helpers\";\nimport { useLocalStorage } from \"../js/useLocalStorage\";\nimport InputVolume from \"./InputVolume\";\n\nconst ToleranceConfig = () => {\n\n  const timeTolerance = useStoreState(state => state.timeTolerance)\n  const setTimeTolerance = useStoreActions(actions => actions.setTimeTolerance)\n  return(\n    <div className=\"card\">\n      <header className=\"card-header p-2\">\n        <h1>Set timeout tolerance in %</h1>\n      </header>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"columns\">\n            <div className=\"column\">\n              <p className=\"subtitle is-4 has-text-centered m-4\">Timeout tolerance (%)</p>\n              <input value={timeTolerance} type=\"number\"\n                onChange={e => setTimeTolerance(e.target.value)}\n                className=\"input no-frame-input title is-3 has-text-centered\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"card-footer\">\n        <button \n          onClick={() => setSavedStorage('timeTolerance',timeTolerance)}\n          className=\"button card-footer-item\">\n            Save\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default ToleranceConfig;","import { useStoreActions, useStoreState } from \"easy-peasy\"\nimport { updateNetwork } from \"../api/api\"\nimport { setSavedStorage } from \"../js/helpers\"\nimport KeyboardReact from \"react-simple-keyboard\"\nimport \"react-simple-keyboard/build/css/index.css\";\nimport { useState } from \"react/cjs/react.development\";\n\nconst WirelessConfig = () => {\n  \n  const wifipass = useStoreState(state => state.wifipass)\n  const wifissid = useStoreState(state => state.wifissid)\n  const setWifipass = useStoreActions(actions => actions.setWifipass)\n  const setWifissid = useStoreActions(actions => actions.setWifissid)\n  const [focused, setFocused] = useState(false)\n  \n  const showKeyboard = () => setFocused(true)\n  const hideKeyboard = () => setFocused(false)\n  \n  return(\n    <div className=\"card\">\n      <header className=\"card-header p-2\">\n        <h1>Wireless configuration</h1>\n      </header>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"columns\">\n            <div className=\"column\">\n              <p className=\"subtitle is-4 has-text-centered m-4\">SSID</p>\n              <input value={wifissid} type=\"text\"\n                onChange={e => setWifissid(e.target.value)}\n                className=\"input no-frame-input title is-3 has-text-centered\" />\n            </div>\n            <div className=\"column\">\n              <p className=\"subtitle is-4 has-text-centered m-4\">Password</p>\n              <input value={wifipass} type=\"text\"\n                onChange={e => setWifipass(e.target.value)}\n                onFocus={showKeyboard}\n                onBlur={hideKeyboard}\n                className=\"input no-frame-input title is-3 has-text-centered\" />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"card-footer\">\n        <button \n          onClick={() => {\n            setSavedStorage('wifissid', wifissid)\n            setSavedStorage('wifipass', wifipass)\n            updateNetwork(wifissid, wifipass)\n          }}\n          className=\"button card-footer-item\">\n            Save\n        </button>\n      </div>\n      <div className={`has-text-grey ${!focused && 'is-hidden'}`}>\n      <KeyboardReact\n          layoutName=\"shift\"\n          />\n      </div>\n    </div>\n  )\n}\n\nexport default WirelessConfig","import { faPowerOff, faRedo } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { devicePowerOff, deviceRestart } from \"../api/api\"\n\nconst SystemConfig = () => {\n  return(\n    <div className=\"card\">\n      <header className=\"card-header p-2\">\n        <h1>Power control</h1>\n      </header>\n      <div className=\"card-content\">\n        <div className=\"content\">\n          <div className=\"columns\">\n            <div \n              onClick={devicePowerOff}\n              className=\"column is-flex is-flex-centered is-flex-direction-column\">\n              <FontAwesomeIcon icon={faPowerOff} className=\"is-size-1 has-text-link m-2\"/>\n              <p>Power Off</p>\n            </div>\n            <div \n              onClick={deviceRestart}\n              className=\"column is-flex is-flex-centered is-flex-direction-column\">\n              <FontAwesomeIcon icon={faRedo} className=\"is-size-1 has-text-link mb-1\"/>\n              <p>Restart</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default SystemConfig","import { faPlus, faVial } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { useEffect, useState } from 'react';\nimport { Route, Switch, useParams } from 'react-router-dom';\nimport { useLocalStorage } from '../js/useLocalStorage';\nimport ConfigNavigation from './ConfigNavigation';\nimport PumpsConfig from './PumpsConfig';\nimport RecipeConfig from './RecipeConfig';\nimport ToleranceConfig from './ToleranceConfig';\nimport WirelessConfig from './WirelessConfig';\nimport SystemConfig from './SystemConfig';\n\nconst Config = () => {\n  return (\n    <div className=\"columns\">\n      <ConfigNavigation/>\n      <div className=\"column p-4\">\n        <Switch>\n          <Route path=\"/config/recipes\" component={RecipeConfig} />\n          <Route path=\"/config/pumps\" component={PumpsConfig} />\n          <Route path=\"/config/tolerance\" component={ToleranceConfig} />\n          <Route path=\"/config/wireless\" component={WirelessConfig} />\n          <Route path=\"/config/system\" component={SystemConfig} />\n          <Route path=\"/config\" component={RecipeConfig} />\n        </Switch>\n      </div>\n    </div>\n  )\n  \n};\n\nexport default Config;\n","import { useState, useEffect } from \"react\";\nimport { getTimestamp } from \"../js/helpers\";\nimport { startPump, stopPump } from \"../api/api\";\nimport { useStoreActions, useStoreState } from \"easy-peasy\";\n\nconst CardManual = ({ pump, recipe }) => {\n  const calibrations = useStoreState(state => state.calibrations)\n  const setCalibrations = useStoreActions(actions => actions.setCalibrations)\n  const pumpsState = useStoreState(state => state.pumpsState)\n  const timeTolerance = useStoreState(state => state.timeTolerance)\n  \n  const [seconds, setSeconds] = useState(0)\n  const [running, setRunning] = useState(false)\n  const [start, setStart] = useState(getTimestamp())\n  const [end, setEnd] = useState(getTimestamp())\n  const [pulsesPerUnit, setPulsesPerUnit] = useState(calibrations[recipe.id].config[pump.id].pulses)\n  const [fillTimeout, setFillTimeout] = useState(calibrations[recipe.id].config[pump.id].timeout)\n  \n  useEffect(() => {\n    const timer = setInterval(() => {\n      setEnd(getTimestamp())\n    }, 100)\n\n    return () => clearInterval(timer);\n  })\n\n  useEffect(() => {\n    if (running) {\n      let elapsed = end-start  \n      setSeconds(elapsed)\n      setFillTimeout((elapsed*(1 + timeTolerance/100)).toFixed(2));\n      setPulsesPerUnit(pumpsState[pump.id].pulses_count)\n    }\n  }, [end])\n\n  useEffect(() => {\n    if (!running) {\n      const newCalibrations = [...calibrations]\n      newCalibrations[recipe.id].config[pump.id].pulses = pulsesPerUnit\n      newCalibrations[recipe.id].config[pump.id].timeout = fillTimeout\n      setCalibrations(newCalibrations)\n    }\n  }, [running])\n\n  useEffect(()=>{\n    setSeconds(0)\n    setPulsesPerUnit(calibrations[recipe.id].config[pump.id].pulses)\n    setFillTimeout(calibrations[recipe.id].config[pump.id].timeout)\n  }, [recipe])\n\n  const startCount = () => {\n    setStart(getTimestamp())\n    startPump(pump).then(() => console.log('start pump'))\n    setRunning(true)\n  }\n\n  const stopCount = () => {\n    setEnd(getTimestamp())\n    stopPump(pump).then(() => console.log('stop pump'))\n    setRunning(false)\n  }\n\n  const resetCount = () => {\n    setSeconds(0)\n    setFillTimeout(0)\n    setPulsesPerUnit(0)\n    stopPump(pump).then(() => console.log('stop pump'))\n    setRunning(false)\n    const newCalibrations = [...calibrations]\n    newCalibrations[recipe.id].config[pump.id].pulses = 0\n    newCalibrations[recipe.id].config[pump.id].timeout = 0\n    setCalibrations(newCalibrations)\n  }\n\n  return (\n    <div className=\"column\">\n      <div className=\"card\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title title is-5 is-centered\">\n            {pump.name}\n          </p>\n        </header>\n        <div className=\"is-flex is-justify-content-space-around\">\n          <div>\n            <p className=\"has-text-link heading has-text-centered mt-4 is-size-8\">Time</p>\n            <p className=\"title is-5 success has-text-centered\">{seconds.toFixed(1)}</p>\n          </div>\n          <div>\n            <p className=\"has-text-link heading has-text-centered mt-4 is-size-8\">Pulses</p>\n            <p className=\"title is-5 success has-text-centered\">{pumpsState[pump.id].pulses_count}</p>\n          </div>\n        </div>\n        <div className=\"card-content is-flex is-justify-content-center m-4 p-0 is-flex-direction-column\">\n          <button\n            className=\"button mb-2 mt-2 pt-0 is-medium\"\n            onClick={running ? stopCount : startCount}\n          >\n            {running ? 'Stop' : 'Start'}\n          </button>\n          <button\n            className=\"button mb-2 mt-2 pt-0 is-medium\"\n            onClick={resetCount}\n          >\n            Reset\n          </button>\n        </div>\n        <div className=\"card-footer is-flex-direction-column\">\n          <p className=\"heading has-text-link has-text-centered mt-3 is-size-8\">Results</p>\n          <div className=\"is-flex is-justify-content-space-around mb-2\">\n          <div>\n            <p className=\"has-text-link heading has-text-centered mt-4 is-size-8\">Timeout</p>\n            <p className=\"title is-3 success has-text-centered\">{fillTimeout}</p>\n          </div>\n          <div>\n            <p className=\"has-text-link heading has-text-centered mt-4 is-size-8\">Pulses</p>\n            <p className=\"title is-3 success has-text-centered\">{pulsesPerUnit}</p>\n          </div>\n          \n        </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardManual","import { useStoreState } from \"easy-peasy\"\nimport { useState } from \"react\"\nimport { Link, useParams } from \"react-router-dom\"\nimport { capitalize } from \"../js/helpers\"\n\nconst CalibrateNavigation = ( {selection, setSelection }) => {\n  \n  const recipes = useStoreState(state => state.recipes)\n\n  return (\n    <div className=\"menu column is-one-fifth\">\n      <p className=\"menu-label has-text-link\">\n        <a>Recipes</a>\n      </p>\n      <ul className=\"menu-list\">\n        {recipes.map(recipe => (\n          <li>\n            <Link \n              className={recipe==selection && 'is-active'} \n              onClick={() => setSelection(recipe)}>\n                {capitalize(recipe.name)}\n            </Link>\n          </li>  \n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default CalibrateNavigation","import CardManual from \"./CardManual\";\nimport { useLocalStorage } from \"../js/useLocalStorage\";\nimport { useStoreActions, useStoreState } from \"easy-peasy\";\nimport CalibrateNavigation from \"./CalibrateNavigation\";\nimport { useState } from \"react\";\nimport { setSavedStorage } from \"../js/helpers\";\n\nconst Calibrate = () => {\n  const pumps = useStoreState(state => state.pumps)\n  const recipes = useStoreState(state => state.recipes)\n  const calibrations = useStoreState(state => state.calibrations)\n  const setCalibrations = useStoreActions(actions => actions.setCalibrations)\n  \n  const [selection, setSelection] = useState(recipes[0])\n  \n  return (\n    <div className=\"columns\">\n      <CalibrateNavigation selection={selection} setSelection={setSelection}/>\n      <div className=\"card column\">\n        <div className=\"columns\">\n          {pumps.map(pump => (\n            <CardManual key={pump.id} pump={pump} recipe={selection}\n            calibrations={calibrations}\n            setCalibrations={setCalibrations}/>\n            ))}\n        </div>\n        <div className=\"card-footer\">\n          <button \n            onClick={() => setSavedStorage('calibrations', calibrations)}\n            className=\"button card-footer-item\">\n              Save\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default Calibrate;\n","import { action } from \"easy-peasy\"\n\nconst initial = {\n  recipes: [\n    {id: 0, name: 'Recipe 1'},\n    {id: 1, name: 'Recipe 2'},\n    {id: 2, name: 'Recipe 3'}\n  ],\n  pumps: [\n    {id: 0, name: 'Pump 1'},\n    {id: 1, name: 'Pump 2'},\n    {id: 2, name: 'Pump 3'},\n    {id: 3, name: 'Pump 4'},\n  ],\n  calibrations: [\n    {\n      id: 0,\n      config: [ \n        {id: 0, pulses: 0, timeout: 0},\n        {id: 1, pulses: 0, timeout: 0},\n        {id: 2, pulses: 0, timeout: 0},\n        {id: 3, pulses: 0, timeout: 0}\n      ],\n    },\n    {\n      id: 1,\n      config: [ \n        {id: 0, pulses: 0, timeout: 0},\n        {id: 1, pulses: 0, timeout: 0},\n        {id: 2, pulses: 0, timeout: 0},\n        {id: 3, pulses: 0, timeout: 0}\n      ],\n    },\n    {\n      id: 2,\n      config: [ \n        {id: 0, pulses: 0, timeout: 0},\n        {id: 1, pulses: 0, timeout: 0},\n        {id: 2, pulses: 0, timeout: 0},\n        {id: 3, pulses: 0, timeout: 0}\n      ],\n    },\n  ],\n  pumpsState: [\n    { id: 0, total_pulses: 123, on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count: 0},\n    { id: 1, total_pulses: 123, on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count: 0},\n    { id: 2, total_pulses: 123, on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count: 0},\n    { id: 3, total_pulses: 123, on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count: 0},\n  ],\n  timeTolerance: 5,\n  wifissid: 'wifi name',\n  wifipass: 'wifi password'\n}\n\nconst getSavedStorage = key => {\n  return JSON.parse(window.localStorage.getItem(key)) || initial[key]\n}\n\nexport default {\n  recipes: getSavedStorage('recipes'),\n  setRecipes: action((state, recipes) =>  { state.recipes = [...recipes] }),\n  \n  pumps: getSavedStorage('pumps'),\n  setPumps: action((state, pumps) =>  { state.pumps = [...pumps] }),\n  \n  calibrations: getSavedStorage('calibrations'),\n  setCalibrations: action((state, calibrations) =>  { state.calibrations = [...calibrations] }),\n  \n  pumpsState: getSavedStorage('pumpsState'),\n  setPumpsState: action((state, pumpsState) =>  { state.pumpsState = [...pumpsState] }),\n  \n  timeTolerance: getSavedStorage('timeTolerance'),\n  setTimeTolerance: action((state, timeTolerance) =>  { state.timeTolerance = timeTolerance }),\n\n  wifissid: getSavedStorage('wifissid'),\n  setWifissid: action((state, wifissid) =>  { state.wifissid = wifissid }),\n  wifipass: getSavedStorage('wifipass'),\n  setWifipass: action((state, wifipass) =>  { state.wifipass = wifipass }),\n\n  pumpMessage: {},\n  setPumpMessage: action((state, message) =>  { state.pumpMessage = message }),\n\n}","import { faWifi } from \"@fortawesome/free-solid-svg-icons\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useEffect, useState } from \"react\"\nimport { ping } from \"../api/api\"\n\nconst Wifi = () => {\n  const [connected, setConnected] = useState(false)\n\n  useEffect(() => {\n    setInterval(() => {\n      setConnected(navigator.onLine)\n    }, 5*1000);\n  }, [])\n\n  return (\n    <FontAwesomeIcon \n      icon={faWifi} \n      className={`wifi ${connected ? 'has-text-success' : 'has-text-grey'}`}\n    />\n  )\n}\n\nexport default Wifi","import { StoreProvider, createStore, useStoreState, useStoreActions } from 'easy-peasy';\nimport { Switch, Redirect, Route } from 'react-router-dom';\nimport Tabs from './Tabs';\nimport Home from './Home';\nimport Config from './Config';\nimport Calibrate from './Calibrate';\nimport model from '../js/model'\nimport Notifications from './Notifications';\nimport Wifi from './Wifi';\n\n\nconst store = createStore(model)\n\nconst App = () => {\n  \n  return (\n    <StoreProvider store={store}>\n      <Wifi />\n      <Tabs />\n        <p className=\"success\"></p>\n        <Redirect exact from=\"/\" to=\"/home\" />\n        <div className=\"container\">\n          <Switch>\n            <Route path=\"/home\" component={Home} />\n            <Route path=\"/config\" component={Config} />\n            <Route path=\"/calibrate\" component={Calibrate} />\n          </Switch>\n        </div>\n    </StoreProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './css/index.css';\nimport './css/style.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}