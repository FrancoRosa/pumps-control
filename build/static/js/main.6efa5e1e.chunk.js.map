{"version":3,"sources":["components/Tab.jsx","components/Tabs.jsx","api/api.js","components/CardHome.jsx","components/Home.jsx","components/Input.jsx","components/CardConfig.jsx","components/Config.jsx","components/App.jsx","index.js"],"names":["Tab","name","icon","active","useLocation","pathname","includes","toLowerCase","className","to","Tabs","faHome","faTools","host","startPump","pump","a","console","log","id","pulses","timeout","url","axios","post","response","data","CardHome","handleClick","on","pulses_count","time_count","toFixed","onClick","socket","io","connect","Home","initState","useState","pumps","setPumps","useEffect","msg","JSON","parse","updatePumps","map","then","resp","Input","label","value","placeholder","handleChange","type","min","onChange","CardConfig","volume","volPerPulse","Config","App","exact","from","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6efa5e1e.chunk.js","sourcesContent":["import { useLocation } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\n\nconst Tab = ({ name, icon }) => {\n  const location = useLocation();\n  const active = location.pathname.includes(name.toLowerCase())\n\n  return (\n    <li className={ active ? \"is-active\" : \"\"}>\n      <Link to={`/${name.toLowerCase()}`} >\n        <span className=\"icon is-small\">\n          <FontAwesomeIcon icon={icon} />\n        </span>\n        <span>{name}</span>\n      </Link>\n    </li>\n  )\n}\n\nexport default Tab;\n","import { \n  faHome,\n  faTools,\n} from '@fortawesome/free-solid-svg-icons';\nimport Tab from './Tab';\n\nconst Tabs = () => {\n    return (\n    <div className=\"tabs is-centered is-large\">\n      <ul>\n        <Tab name=\"Home\" icon={faHome} />\n        <Tab name=\"Config\" icon={faTools} />\n      </ul>\n    </div>\n  )\n}\n\nexport default Tabs;\n","import axios from 'axios';\n\nconst host='localhost'\n\nexport const startPump = async (pump) => {\n  console.log('... starting pump');\n  const {id, pulses, timeout} = pump\n  const url = `http://${host}:9999/api/start`;\n  const response = await axios.post(url, {id, pulses, timeout})\n  return response.data\n}\n\nexport const infoPump = async (id) => {\n  console.log('... getting events');\n  const url = `http://${host}:9999/api/info/${id}`;\n  const response = await axios.get(url)\n  return response.data\n}","const CardHome = ({pump, handleClick}) => {\n  const {name, on, pulses_count, time_count} = pump;\n  return (\n    <div className=\"column\">\n      <div className=\"card m-4 p-4\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title title is-3 is-centered\">\n            {name}\n          </p>\n        </header>\n        <div className=\"card-content\">\n          <p>\n            Current status: {' '}\n            <span className={`content ${on ? 'has-text-danger':'has-text-success'}`}>\n              {on ? 'Active': 'Off'}\n            </span>\n          </p>\n          <p>Volume send: {pulses_count}</p>\n          {time_count == 0 ? '': <p>Time elapsed: {time_count.toFixed(1)} s</p>}\n        </div>\n        <footer className=\"card-footer\">\n          <button \n            className={`button is-large is-outlined card-footer-item ${on && 'is-loading'}` }\n            onClick={handleClick}\n          >\n            Start\n          </button>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default CardHome","import { startPump } from '../api/api';\nimport CardHome from './CardHome'\nimport io from \"socket.io-client\";\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nconst socket = io.connect('http://localhost:9999');\n\nconst Home = () => {\n  let initState = [\n    { id: 0, name: 'Pump 1', on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count:0},\n    { id: 1, name: 'Pump 2', on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count:0 },\n    { id: 2, name: 'Pump 3', on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count:0 },\n    { id: 3, name: 'Pump 4', on: false, timeout: 5, pulses: 10, pulses_count: 0, time_count:0 },\n  ]\n  let [pumps, setPumps] =  useState(initState)\n\n  useEffect(()=>{\n    const updatePumps = msg => {\n      let pump = JSON.parse(msg);\n      let id = pump.id\n      pump = {... initState[id], ...pump}\n      initState[id] = pump\n      console.log(pump)\n      setPumps(initState)\n    }\n\n    socket.on('message', msg => updatePumps(msg))\n  },[])\n\n  \n  \n  const handleClick = pump => {\n    startPump(pump).then(resp => console.log(resp))\n  }\n\n  return (\n    <>\n      <h1 className=\"title is-2 has-text-centered\">DECON SEVEN</h1>\n      <div className=\"columns\">\n        {pumps.map(pump => (\n          <CardHome key={pump.id} pump={pump} handleClick={() => handleClick(pump)}/>\n        ))}\n      </div>\n    </>\n  )\n};\n\nexport default Home;\n","const Input = ({label, value, placeholder, handleChange}) =>{\n  return (\n    <div className=\"field\">\n      <label className=\"label\">{label}</label>\n      <div className=\"control\">\n        <input \n          className=\"input\"\n          type=\"number\"\n          min=\"0\"\n          placeholder={placeholder}\n          onChange={handleChange}\n          value={value}/>\n      </div>\n    </div>\n  )\n}\n\nexport default Input","import Input from \"./Input\";\n\nconst CardConfig = ({pump, handleChange}) => {\n  const {name, timeout, value, volume, volPerPulse} = pump;\n  return (\n    <div className=\"column\">\n      <div className=\"card m-4 p-4\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title title is-3 is-centered\">\n            {name}\n          </p>\n        </header>\n        <div className=\"card-content\">\n          <Input label=\"Timeout\" value={timeout} placeholder=\"Time in seconds\" handleChange={handleChange}/>\n          <Input label=\"Volume\" value={volume} placeholder=\"Volume in fl oz\" handleChange={handleChange}/>\n          <Input label=\"Volume per Pulse\" value={volPerPulse} placeholder=\"Volume in fl oz\" handleChange={handleChange}/>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardConfig","import CardConfig from \"./CardConfig\";\n\nconst Config = () => {\n  const pumps = [\n    { id: 1, name: 'Pump 1', on: false },\n    { id: 2, name: 'Pump 2', on: false },\n    { id: 3, name: 'Pump 3', on: false },\n    { id: 4, name: 'Pump 4', on: true },\n  ]\n  \n  const handleChange = () => {\n    console.log('...')\n  }\n  return (\n    <div className=\"columns\">\n      {pumps.map(pump => (\n        <CardConfig key={pump.id} pump={pump}/>\n      ))}\n    </div>\n  )\n};\n\nexport default Config;\n","import { Switch, Redirect, Route } from 'react-router-dom';\nimport Tabs from './Tabs';\nimport Home from './Home';\nimport Config from './Config';\n\nconst App = () => {\n  return (\n    <div>\n      <Tabs />\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/home\" />\n        <div className=\"container\">\n          <Route path=\"/home\" component={Home} />\n          <Route path=\"/config\" component={Config} />\n        </div>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './css/index.css';\nimport './css/style.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}